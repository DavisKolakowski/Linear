@model LinearUpdateDashboard.ViewModels.MarketListViewModel

@{
    ViewData["Title"] = "Index";
}

@section Styles {
    <link rel="stylesheet" href="~/lib/vendor/datatables/datatables.min.css"/>    
    <link rel="stylesheet" href="~/lib/vendor/datatables/dist/css/dataTables.bootstrap5.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/autofill/css/autoFill.bootstrap5.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/buttons/css/buttons.bootstrap5.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/colreorder/css/colReorder.bootstrap5.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/datetime/css/dataTables.dateTime.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/fixedcolumns/css/fixedColumns.bootstrap5.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/fixedheader/css/fixedHeader.bootstrap5.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/keytable/css/keyTable.bootstrap5.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/responsive/css/responsive.bootstrap5.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/rowgroup/css/rowGroup.bootstrap5.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/rowreorder/css/rowReorder.bootstrap5.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/scroller/css/scroller.bootstrap5.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/searchbuilder/css/searchBuilder.bootstrap5.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/searchpanes/css/searchPanes.bootstrap5.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/select/css/select.bootstrap5.min.css"/>
    <link rel="stylesheet" href="~/lib/vendor/datatables/extensions/staterestore/css/stateRestore.bootstrap5.min.css"/>
}

@section Scripts {
    <script src="~/lib/vendor/datatables/datatables.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/jszip/jszip.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/pdfmake/pdfmake.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/pdfmake/vfs_fonts.js"></script>
    <script src="~/lib/vendor/datatables/dist/js/jquery.dataTables.min.js"></script>
    <script src="~/lib/vendor/datatables/dist/js/dataTables.bootstrap5.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/autofill/js/dataTables.autoFill.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/autofill/js/autoFill.bootstrap5.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/buttons/js/dataTables.buttons.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/buttons/js/buttons.bootstrap5.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/buttons/js/buttons.colVis.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/buttons/js/buttons.html5.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/buttons/js/buttons.print.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/colreorder/js/dataTables.colReorder.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/datetime/js/dataTables.dateTime.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/fixedcolumns/js/dataTables.fixedColumns.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/fixedheader/js/dataTables.fixedHeader.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/keytable/js/dataTables.keyTable.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/responsive/js/dataTables.responsive.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/responsive/js/responsive.bootstrap5.js"></script>
    <script src="~/lib/vendor/datatables/extensions/rowgroup/js/dataTables.rowGroup.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/rowreorder/js/dataTables.rowReorder.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/scroller/js/dataTables.scroller.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/searchbuilder/js/dataTables.searchBuilder.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/searchbuilder/js/searchBuilder.bootstrap5.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/searchpanes/js/dataTables.searchPanes.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/searchpanes/js/searchPanes.bootstrap5.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/select/js/dataTables.select.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/staterestore/js/dataTables.stateRestore.min.js"></script>
    <script src="~/lib/vendor/datatables/extensions/staterestore/js/stateRestore.bootstrap5.min.js"></script>

    <script>
        $(document).ready(function () {
                var table = $('#MarketListDT').DataTable( {
                    dom: "f",
                    responsive: true,
                    searching: false,
                    paging: false,
                    columnDefs: [
                        { responsivePriority: 1, targets: 0 },
                        { responsivePriority: 2, targets: -1 }
                    ]
                });
           });
    </script>
}

<div id="datatable" class="mb-5">
    <table id="MarketListDT" class="table table-bordered text-nowrap w-100">
        <thead>
            <tr>
                <th>
                    MARKET
                </th>
                <th>
                    TOTAL CONFLICTS
                </th>
                <th>
                    SPOTS IN MARKET
                </th>
            </tr>
        </thead>
        <tbody>
    @foreach (var item in Model.Markets) {
            <tr>
                <td style="text-transform: uppercase;">
                    @item.Name
                </td>
                <td>
                    @Model.MarketSpotCount[item.Id]
                </td>
                <td data-priority="2">
                    <a asp-action="Details" asp-route-name="@item.Name" class="link-info text-decoration-none">DETAILS</a>
                </td>
            </tr>
    }
        </tbody>
    </table>
</div>
